
function generateTableOfContents(){const e=document.getElementById("toc"),t=document.querySelector(".content").querySelectorAll("h1, h2, h3");e.innerHTML="",t.forEach((t=>{if(!t.id){const e=createSafeId(t.textContent.trim());t.id=e}const n=document.createElement("li"),o=document.createElement("a"),i=t.textContent.replace(/#/g,"").trim();o.href=`#${t.id}`,o.textContent=i,o.classList.add(`toc-${t.tagName.toLowerCase()}`),n.appendChild(o),e.appendChild(n)}))}function createSafeId(e){return e.toLowerCase().replace(/['"]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}function setupScrollSpy(){const e=Array.from(document.querySelectorAll(".content h1[id], .content h2[id], .content h3[id]")),t=document.querySelectorAll("#toc a");function n(){if(0===e.length||0===t.length)return;let n=null,o=1/0;const i=window.scrollY+getFixedElementsHeight();for(const t of e){const e=t.getBoundingClientRect().top+window.scrollY,c=Math.abs(e-i);c<o&&(o=c,n=t)}if(n){const e=n.id;t.forEach((t=>{t.classList.remove("active"),t.getAttribute("href")===`#${e}`&&t.classList.add("active")}))}}window.addEventListener("scroll",n),window.addEventListener("resize",n);const o=document.getElementById("hamburger-menu");o&&o.addEventListener("click",(function(){setTimeout(n,300)})),n()}function setupSmoothScrolling(){document.querySelectorAll("#toc a").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);n&&(scrollToElement(n),history.pushState(null,null,t))}))}))}function getFixedElementsHeight(){if(window.innerWidth<=768){return document.querySelector(".sidebar").offsetHeight}return 120}function scrollToElement(e){const t=e.getBoundingClientRect().top+window.pageYOffset-getFixedElementsHeight();window.scrollTo({top:t,behavior:"smooth"})}function handleInitialHash(){if(window.location.hash){const e=document.querySelector(window.location.hash);e&&setTimeout((()=>{scrollToElement(e)}),300)}}function initializeTheme(){const e=document.getElementById("theme-toggle-btn");let t="auto";const n=localStorage.getItem("theme");n&&(t=n,applyTheme(t)),e.textContent=capitalizeFirstLetter(t),e.addEventListener("click",(function(){t="auto"===t?"light":"light"===t?"dark":"auto",applyTheme(t),e.textContent=capitalizeFirstLetter(t),localStorage.setItem("theme",t)}))}function applyTheme(e){"auto"===e?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",e)}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function initializeHamburgerMenu(){const e=document.getElementById("hamburger-menu"),t=document.querySelector(".toc-container");if(!e||!t)return;e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("open")}));document.querySelectorAll("#toc a").forEach((n=>{n.addEventListener("click",(function(){window.innerWidth<=768&&(e.classList.remove("active"),t.classList.remove("open"))}))})),window.innerWidth<=768?t.classList.remove("open"):t.classList.add("open"),window.addEventListener("resize",(function(){window.innerWidth<=768?e.classList.contains("active")||t.classList.remove("open"):t.classList.add("open")}));const n=document.querySelector(".mentorship-link");n&&window.innerWidth<=768&&(n.style.padding="0.5rem",n.style.fontSize="0.85rem")}function initializeStats(){const e=(new Date).getFullYear(),t=e-siteData.managingYear,n=e-siteData.executiveYear,o=e-siteData.devYear;document.getElementById("years-managing").textContent=t,document.getElementById("years-executive").textContent=n,document.getElementById("years-dev").textContent=o}document.addEventListener("DOMContentLoaded",(function(){generateTableOfContents(),setupScrollSpy(),setupSmoothScrolling(),handleInitialHash(),initializeTheme(),initializeHamburgerMenu(),initializeStats()}));