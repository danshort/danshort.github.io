
function generateTableOfContents(){const e=document.getElementById("toc"),t=document.querySelector(".content").querySelectorAll("h2, h3");e.innerHTML="",t.forEach((t=>{t.id||(t.id=t.textContent.toLowerCase().replace(/[^\w]+/g,"-"));const n=document.createElement("li"),o=document.createElement("a");o.href=`#${t.id}`,o.textContent=t.textContent,o.classList.add(`toc-${t.tagName.toLowerCase()}`),n.appendChild(o),e.appendChild(n)}))}function setupScrollSpy(){const e=Array.from(document.querySelectorAll(".content h2[id], .content h3[id]")),t=document.querySelectorAll("#toc a");function n(){e.sort(((e,t)=>e.offsetTop-t.offsetTop));let n="";const o=calculateScrollOffset(),i=window.scrollY+o;for(let t=0;t<e.length;t++){const o=e[t];if(!(o.offsetTop<=i))break;n=o.id}t.forEach((e=>{e.classList.remove("active");e.getAttribute("href")===`#${n}`&&e.classList.add("active")}))}window.addEventListener("scroll",n),window.addEventListener("resize",n);document.getElementById("hamburger-menu").addEventListener("click",(function(){setTimeout(n,300)})),n()}function setupSmoothScrolling(){document.querySelectorAll("#toc a").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=calculateScrollOffset(),o=n.offsetTop-e;window.scrollTo({top:o,behavior:"smooth"}),history.pushState(null,null,t)}}))}))}function calculateScrollOffset(){let e=80;if(window.innerWidth<=768){e=document.querySelector(".sidebar").offsetHeight+20}return e}function handleInitialHash(){if(window.location.hash){const e=document.querySelector(window.location.hash);e&&setTimeout((()=>{const t=calculateScrollOffset(),n=e.offsetTop-t;window.scrollTo({top:n,behavior:"smooth"})}),100)}}function initializeTheme(){const e=document.getElementById("theme-toggle-btn");let t="auto";const n=localStorage.getItem("theme");n&&(t=n,applyTheme(t)),e.textContent=capitalizeFirstLetter(t),e.addEventListener("click",(function(){t="auto"===t?"light":"light"===t?"dark":"auto",applyTheme(t),e.textContent=capitalizeFirstLetter(t),localStorage.setItem("theme",t)}))}function applyTheme(e){"auto"===e?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",e)}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function initializeHamburgerMenu(){const e=document.getElementById("hamburger-menu"),t=document.querySelector(".toc-container");e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("open")}));document.querySelectorAll("#toc a").forEach((n=>{n.addEventListener("click",(function(){window.innerWidth<=768&&(e.classList.remove("active"),t.classList.remove("open"))}))})),window.innerWidth<=768?t.classList.remove("open"):t.classList.add("open"),window.addEventListener("resize",(function(){window.innerWidth<=768?e.classList.contains("active")||t.classList.remove("open"):t.classList.add("open")}));const n=document.querySelector(".mentorship-link");n&&window.innerWidth<=768&&(n.style.padding="0.5rem",n.style.fontSize="0.85rem")}function initializeStats(){const e=(new Date).getFullYear(),t=e-site.managingYear,n=e-site.executiveYear;document.getElementById("years-managing").textContent=t,document.getElementById("years-executive").textContent=n}document.addEventListener("DOMContentLoaded",(function(){generateTableOfContents(),setupScrollSpy(),setupSmoothScrolling(),handleInitialHash(),initializeTheme(),initializeHamburgerMenu(),initializeStats()}));